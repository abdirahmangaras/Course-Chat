{"version":3,"sources":["icons/onlineIcon.png","icons/closeIcon.png","components/Feed/Classes.js","components/Feed/ClassFeedPage.js","components/Feed/Feed.js","redux/actions/errorActions.js","redux/actions/classActions.js","redux/actions/isLogged.js","redux/actions/types.js","redux/reducers/isLogged.js","components/Signup.js","components/login.js","components/UserProfile.js","components/Nav.js","components/ClassComponent.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/ClassmatesModal/SearchField.js","components/ClassmatesModal/ClassMates.js","components/Chatters/Chatters.js","redux/reducers/chatters.js","components/Chat/Chat.js","redux/reducers/errorReducer.js","redux/reducers/classes.js","store.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","useStyles","makeStyles","focused","backgroundColor","paper","marginTop","textAlign","whiteSpace","textcenter","Classes","props","classes","className","Paper","List","map","classObject","i","ListItem","onClick","setFocusedClass","courseName","key","focusedClass","ListItemText","primary","Feed","TextField","id","multiline","fullWidth","placeholder","rows","defaultValue","variant","spaceFromLeft","marginLeft","connect","state","userData","logged","user","currentClasses","useState","useEffect","history","push","Grid","container","spacing","item","xs","Divider","orientation","returnErrors","msg","status","type","payload","sortAndGetRidOfDuplicates","allStudentsInAllClasses","sort","a","b","usernameA","username","toUpperCase","usernameB","console","log","j","length","splice","login","dispatch","password","body","JSON","stringify","axios","post","headers","then","res","data","get","response","waitForAsync","_id","studentsResponse","catch","error","Promise","all","students","allStudents","concat","filter","studInfo","getClassesForUser","loadUser","err","config","setConfig","token","localStorage","getItem","initialState","loggedIn","isLoading","isLogged","errorMsg","register","fullName","email","college","setUsername","fullname","setFullname","setEmail","setPassword","setCollege","fullNameError","setFullNameError","usernameError","setUsernameError","emailError","setEmailError","passwordError","setPasswordError","collegeError","setCollegeError","setErrorMessage","validateEmail","pattern","RegExp","test","useDispatch","Container","maxWidth","Box","border","borderColor","name","label","helperText","onChange","event","target","value","select","MenuItem","to","pathname","e","validateForm","preventDefault","activeStyle","color","message","handleClick","validPW","upperCase","digit","currentChar","charAt","validatePassword","onKeyPress","UserProfile","openModal","setState","isModalOpened","closeModal","updateProfessorname","profName","updateClass","class","updateTime","time","addClass","newClass","nameOfUser","listItemClicked","delete","this","ListItemSecondaryAction","IconButton","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","margin","DialogActions","Button","button","component","Link","classId","getStudentsForClass","React","Component","classInfo","theme","root","flexGrow","menuButton","marginRight","title","link","paddingLeft","textDecoration","fontSize","store","signOut","withRouter","anchorEl","setAnchorEl","Boolean","handleClose","AppBar","position","Toolbar","edge","aria-label","Typography","aria-controls","aria-haspopup","currentTarget","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","ClassComponent","queriedClasses","student","sendMessageTo","Message","currentChatter","text","isSentByCurrentUser","from","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","currentUser","InfoBar","room","src","onlineIcon","alt","href","closeIcon","Input","setMessage","sendMessage","disabled","padding","display","alignItems","width","borderTopColor","input","flex","iconButton","divider","height","SearchDeals","handleChangeSearchText","borderTop","borderBottom","InputBase","avatar","blue","grow","justifyContent","listItem","nameUnderUsername","flexShrink","flexBasis","fontWeight","blueGrey","titleAndCloseIcon","ClassmatesModal","addChatter","modalOpened","classMates","currentlyDisplayed","setCurrentlyDisplayed","Fragment","newText","newData","friend","indexOf","classMate","clickedClassmate","ListItemAvatar","Avatar","Chatters","chatters","classmate","changeChatter","socketId","Chat","filterMessages","allMessages","messagesToShow","messageIndex","socket","emit","newMessage","addMessage","chatterUsername","isChatterAlreadyInChatters","io","allMessagesAndChatters","allChatters","allChattersWithoutCurrentUser","chatter","setMessagesAndChatters","location","newChatter","includes","on","defaultProps","connectedClients","middleware","thunk","appReducer","combineReducers","action","setItem","removeItem","persistedState","serializedState","parse","loadFromLocalStorage","createStore","undefined","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","saveToLocalStorage","getState","App","Nav","path","exact","Signup","Login","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8b371ff3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { connect } from 'react-redux'\nimport Paper from '@material-ui/core/Paper';\n\n//import logoimage from '../images/logoimage.jpeg';\nconst useStyles = makeStyles({\n    focused:{\n        backgroundColor:'gray'\n    },\n    // unfocused:{\n    //     backgroundColor:'gray'\n    // },\n    paper: {\n        // padding: theme.spacing(1),\n        marginTop:'4%',\n        textAlign: 'center',\n        // color: theme.palette.text.secondary,\n        whiteSpace: 'nowrap',\n        // marginBottom: theme.spacing(1),\n    },\n    textcenter:{\n        textAlign:'center'\n    }\n})\nexport default function Classes(props){\n    const classes = useStyles()\n    return (\n      <div className=\"App\">\n        <Paper className={classes.paper}>\n            <List>\n            {props.classes.map( (classObject,i) => {\n                return(\n                <ListItem\n                    onClick = {() => props.setFocusedClass(classObject.courseName)}\n                    key={i}\n                    className = {props.focusedClass == classObject.courseName ? classes.focused : 'unfocused'}\n                >\n                    <ListItemText\n                        primary={classObject.courseName}\n                        className={classes.textcenter}\n                    />\n                </ListItem>\n                )\n            })}\n            </List>\n        </Paper>\n        \n      </div>\n    );\n}\n","import React , {useState} from 'react';\nimport TextField from '@material-ui/core/TextField';\n\n\n\nexport default function Feed(props) {\n\n    return (\n      <div className=\"App\">\n          <div>feed for class {props.focusedClass}</div>\n          <TextField\n          id=\"outlined-multiline-static\"\n          multiline\n          fullWidth\n          placeholder={`Add a post for ${props.focusedClass}`}\n          rows={4}\n          defaultValue=\"\"\n          variant=\"outlined\"\n        />\n      </div>\n    );\n}\n\n\n\n\n","import React , {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport PeopleAltOutlinedIcon from '@material-ui/icons/PeopleAltOutlined';\n//import logoimage from '../images/logoimage.jpeg';\nimport { connect } from 'react-redux'\nimport Grid from '@material-ui/core/Grid';\nimport Classes from './Classes'\nimport ClassFeedPage from './ClassFeedPage'\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles({\n  spaceFromLeft:{\n    marginLeft:'5%'\n  }\n})\nfunction Feed(props) {\n    const classes = useStyles()\n    const [focusedClass,setFocusedClass] = useState('')\n    useEffect(() => {\n      if(props.userData == null) props.history.push('/login')\n    });\n    return (\n      <div className={classes.spaceFromLeft} >\n        <Grid container spacing = {3}>\n            <Grid item xs = {3}>\n              <Classes focusedClass = {focusedClass} classes = {props.classes} setFocusedClass={setFocusedClass}/>\n            </Grid>\n            <Grid item xs = {6}>\n              <ClassFeedPage focusedClass = {focusedClass}/>\n            </Grid>\n        </Grid>\n        <Divider orientation='vertical' />\n      </div>\n    );\n}\n\n\n\nconst mapStateToProps = (state) => (\n  {\n    userData:state.logged.user,\n    classes:state.classes.currentClasses\n  }\n)\n\nexport default connect(mapStateToProps,null)(Feed)\n\n","export const returnErrors = (msg,status,id=null) => {\n    return {\n        type:\"GET_ERRORS\",\n        payload:{msg,status,id}\n    }\n}\nexport const clearErrors = () =>{\n    return {\n        type: 'CLEAR_ERRORS'\n    }\n}","import {GET_CLASSES_FROM_DB,SET_CLASS,GET_QUERIED_CLASSES_FROM_DB} from './types'\nimport axios from 'axios';\n\nfunction sortAndGetRidOfDuplicates(allStudentsInAllClasses){\n    allStudentsInAllClasses.sort(function(a,b){\n        var usernameA = a.username.toUpperCase(); // ignore upper and lowercase\n        var usernameB = b.username.toUpperCase(); // ignore upper and lowercase\n        if (usernameA < usernameB) {\n          return -1;//this means a comes first.\n        }\n        if (usernameA > usernameB) {\n          return 1;//this means b comes first\n        }\n        return 0;\n      })\n      console.log(allStudentsInAllClasses)\n      var i = 0;\n      for(let j =1; j < allStudentsInAllClasses.length; j++){\n        if(allStudentsInAllClasses[j].username!=allStudentsInAllClasses[i].username){\n          i++;\n          allStudentsInAllClasses[i]=allStudentsInAllClasses[j]\n        }\n      }\n      // all elements preceding i are unique and after i are duplicates so we splice after i\n      while(i + 1 < allStudentsInAllClasses.length) allStudentsInAllClasses.splice(i+1)\n      console.log(allStudentsInAllClasses)\n      return allStudentsInAllClasses\n}\n\nexport const getClassesForUser = (dispatch,username) =>{\n    axios.get(`http://www.localhost:5000/${username}`)\n        .then( async (response) => {\n                dispatch({\n                    type:GET_CLASSES_FROM_DB,\n                    payload:response.data\n                });\n                var classes = response.data\n                var waitForAsync = []\n                for(var i = 0; i < classes.length; i++){\n                    waitForAsync.push(axios.get('http://www.localhost:5000/course/' + classes[i]._id)//queries all students taking this specific course. need to change the name of route later.\n                    .then( (studentsResponse) => {\n                        return studentsResponse.data\n                    })\n                    .catch(function (error) {\n                        console.log(error);\n                    }))\n                }\n                Promise.all(waitForAsync).then( (students) =>{\n                    let allStudents = [].concat(...students)\n                    allStudents = sortAndGetRidOfDuplicates(allStudents)\n                    //students can take multiple courses together and we are querying for each class so here can be duplicated classmates\n                    allStudents = allStudents.filter(studInfo => studInfo.username != username)//current user's classmates don't include himself by definition.\n                    dispatch({\n                        type:'SET_STUDENTS',\n                        payload:allStudents\n                    })\n                })\n            }).catch(function (error) {\n                console.log(error);\n            });\n}\nexport const getStudentsForClass = (dispatch,classInfo,id) =>{\n    axios.get('http://www.localhost:5000/course/' + id)\n    .then( (studentsResponse) => {\n        console.log(studentsResponse.data);\n        dispatch({\n            type:GET_QUERIED_CLASSES_FROM_DB,\n            payload:studentsResponse.data\n        })\n        dispatch({\n            type:SET_CLASS,\n            payload:classInfo\n        })\n    })\n    .catch(function (error) {\n        console.log(error);\n    });\n}\n","import { SIGN_IN } from './types';\nimport { SIGN_OUT } from './types'\nimport axios from 'axios';\nimport {returnErrors} from './errorActions'\nimport jwt_decode from \"jwt-decode\";\nimport {getClassesForUser} from './classActions'\nexport function signIn(){\n    return {\n            type: SIGN_IN,\n            //payload:true\n    }\n}\nexport function signOut(dispatch){\n    dispatch({\n            type: SIGN_OUT,\n            //payload:false\n    })\n    dispatch({\n        type: 'LOGOUT_SUCCESS',\n        //payload:false\n    })\n    \n\n}\nexport const login = (dispatch,history,username,password) =>{\n    const config = {\n        headers:{\n            'Content-Type':'application/json'\n        }\n    }\n    const body = JSON.stringify({username,password})\n\n    axios.post('http://localhost:5000/login',body,config)\n    .then(res => {\n        dispatch({\n            type:'LOGIN_SUCCESS',\n            payload:res.data\n            //gets user token after logging in and same for sign up.\n        })\n        getClassesForUser(dispatch,username)\n        dispatch({\n            type:'SIGN_IN'\n        })\n        loadUser(dispatch,history)//gets user information.\n        \n    }).catch( (err) => {\n        console.log(err.response)\n        // dispatch(returnErrors(err.response.data,err.response.status,'LOGIN_FAIL'))//register_fail\n        dispatch({\n            type:'LOGIN_FAIL'\n        })\n        console.log(err)\n    });\n}\nexport const register = (dispatch,history,fullName,email,username,password,college) =>{\n    const config = {\n        headers:{\n            'Content-Type':'application/json'\n        }\n    }\n    const body = JSON.stringify({fullName,email,username,password,college})\n\n    axios.post('http://localhost:5000/signup',body,config)\n    .then(res => {\n        console.log(res.data)\n        const {token } = res.data\n        dispatch({\n            type:'REGISTER_SUCCESS',\n            payload:res.data[0]\n        })\n        dispatch({\n            type:'SIGN_IN'\n        })\n        // const user = jwt_decode(token)\n        // console.log(user)\n        // dispatch(setCurrentUser(user));\n        loadUser(dispatch,history)\n        \n    }).catch( (err) => {\n        dispatch(returnErrors(err.response.data,err.response.status,'REGISTER_FAIL'))//register_fail\n        dispatch({\n            type:'REGISTER_FAIL'\n        })\n        console.log(err)\n    });\n}\nexport const setCurrentUser = decoded => {\n    return {\n      type: 'USER_LOADED',\n      payload: decoded\n    };\n  };\nexport const loginWorked = (dispatch,res) =>{\n    dispatch({\n        type:'LOGIN_SUCCESS',\n        payload:res.data\n    })\n    dispatch({\n        type:'SIGN_IN'\n    })\n    loadUser(dispatch)\n}\nexport const loginFailed = (dispatch,err) => {\n    dispatch(returnErrors(err.response.data,err.response.status,'LOGIN_FAIL'))//register_fail\n    dispatch({\n        type:'LOGIN_FAIL'\n    })\n    console.log(err.response.data)\n}\nexport const loadUser = (dispatch,history) => {\n    // User loading\n    // dispatch({type: \"USER_LOADING\"})\n    //get token from local storage\n    const config = setConfig()\n    axios.get(\"http://localhost:5000/get/user\",config)\n        .then(res => {\n            console.log(res.data[0].username)\n            dispatch({type: \"USER_LOADED\", payload:res.data[0]})\n            history.push('/')\n        }).catch(err => {\n            console.log(err)\n            // dispatch(returnErrors(err.response.data,err.response.status))\n            dispatch({type:\"AUTH_ERROR\",payload:err})\n        })\n}\nexport const setConfig = () =>{\n    const token = localStorage.getItem('token')\n    //Headers\n    const config = {\n        headers:{\n            \"Content-type\":\"application/json\"\n        }\n    }\n    if (token){\n        config.headers['x-auth-token'] = token;\n    }\n    return config\n}","export const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\n// export const ADD_COURSE = 'ADD_COURSE';\nexport const EDIT_CLASS = 'EDIT_CLASS';\nexport const DEL_CLASS = 'DEL_CLASS';\nexport const SET_CLASS = 'SET_CLASS';\nexport const GET_CLASSES_FROM_DB = 'GET_CLASSES_FROM_DB'\nexport const GET_QUERIED_CLASSES_FROM_DB = 'GET_QUERIED_CLASSES_FROM_DB'\n\n","const SIGN_IN = 'SIGN_IN';\nconst initialState = {\n    loggedIn:false,\n    classes:[],\n    token:localStorage.getItem(\"token\"),\n    isLoading:false,\n    user:null,\n}\nexport default function(state = initialState,action){\n    switch(action.type){\n        case SIGN_IN:\n            return {loggedIn:true};\n        case 'SIGN_OUT':\n            return {loggedIn:false};\n        case 'ADD_CLASS':\n            return {\n                classes: [\n                    ...state.classes,\n                    action.payload,\n                  ]\n            }\n        case 'USER_LOADING':\n            return {\n                ...state,\n                isLoading:true\n            }\n        case 'USER_LOADED':\n            return{\n                ...state,\n                loggedIn:true,\n                isLoading:false,\n                user:action.payload\n                //get user info from action.payload!\n            };\n        case 'LOGIN_SUCCESS':\n        case 'REGISTER_SUCCESS':\n            localStorage.setItem('token',action.payload.token)\n            return{\n                ...state,\n                ...action.payload,//contains our token\n                loggedIn:true,\n                isLoading:false,\n                user:action.payload\n            };\n        case 'AUTH_ERROR':\n        case 'LOGIN_FAIL':\n        case 'LOGOUT_SUCCESS':\n        case 'REGISTER_FAIL':\n            localStorage.removeItem('token')\n            return{\n                ...state,\n                token:null,\n                user:null,\n                loggedIn:false,\n                isLoading:false\n            }\n        default:\n            return state;\n    }\n}\n// const initialState = {\n//     commentText:'',\n//     comments:[]\n//  }\n//  const reducer = (state = initialState,action) => {\n//     console.log(action.payload)\n//     switch(action.type){\n//        case 'ADD_COMMENT':\n//           return  {\n        //   comments: [\n        //     ...state.comments,\n        //     {\n        //       commentInfo: action.payload,\n        //     }\n        //   ]\n//        }\n//         case 'LIKE_COMMENT':\n//            return{\n//               comments:action.payload\n//            }\n//        }\n//     return state\n//  }\n//  const Store = createStore(reducer)","import React , { useState } from 'react';\nimport {NavLink, Link} from 'react-router-dom';\nimport {Box,Container, MenuItem,Select, Input, InputLabel, TextField} from '@material-ui/core'\nimport {useSelector, useDispatch } from 'react-redux';\nimport { signIn } from '../redux/actions/isLogged'\nimport { connect, dispatch} from 'react-redux';\nimport { logIn } from '../redux/reducers/isLogged';\nimport {register} from '../redux/actions/isLogged'\n//you have to install redux and install react-redux\n//i kind of used this website https://serverless-stack.com/chapters/create-a-login-page.html\n\nfunction Signup(props) {\n    const [username, setUsername] = useState('');\n    const [fullname, setFullname] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [college, setCollege] = useState('');\n    const [fullNameError, setFullNameError] = useState('');\n    const [usernameError, setUsernameError] = useState('');\n    const [emailError, setEmailError] = useState('');\n    const [passwordError, setPasswordError] = useState('');\n    const [collegeError, setCollegeError] = useState('');\n    const [errormessage,setErrorMessage] = useState(false);\n    const [isLogged,setIsLogged] = useState(false);\n    const dispatch = useDispatch();\n    function handleClick(e){\n      // console.log(props.state.isLoading)\n      // console.log(props.state.error)\n      if(!validateForm()){\n          e.preventDefault();\n      }\n      else{\n          e.preventDefault()\n          console.log(props.errorMsg)\n          props.register(props.history,fullname,email,username,password,college);//signup\n      }\n          //send user to mongodb using axios. \n      /*if validatedform is false so its not validated then you prevent the \n      default action from happening which is going to user profile page.*/\n    }\n  function validateForm(){\n    setErrorMessage(true);\n      if(fullname.length === 0)\n        setFullNameError(\"fullname is blank\");\n      else if(email.length === 0){\n        setFullNameError(\"\");\n        setEmailError(\"email is empty\");\n      }\n      else if(!validateEmail()){\n        setFullNameError(\"\");\n        setEmailError(\"Invalid email format\");\n      }\n      else if(username.length === 0){\n        setFullNameError(\"\");\n        setEmailError(\"\");\n        setUsernameError(\"Username is empty\");\n      }\n      else if(password.length === 0){\n        setFullNameError(\"\");\n        setEmailError(\"\");\n        setUsernameError(\"\");\n        setPasswordError(\"password is empty\");\n      }\n      else{\n        setFullNameError(\"\");\n        setEmailError(\"\");\n        setUsernameError(\"\");\n        setPasswordError(\"\");\n        setCollegeError(\"College must be chosen\");\n      }\n    return (username.length > 0 && fullname.length > 0 \n      && email.length > 0 && password.length > 0 && \n      college.length > 0 && validateEmail());\n  }\n  function updateUsername(event) {\n    setUsername(event.target.value);\n  }\n  function updateFName(event) {\n    setFullname(event.target.value);\n  }\n  function updatePassword(event) {\n    setPassword(event.target.value);\n  }\n  function updateEmail(event) {\n    setEmail(event.target.value);\n  }\n  function updateCollege(event) {\n    setCollege(event.target.value);\n  }\n  // updateUsername = (event) => {\n  //   this.setState({username: event.target.value});\n  //   setUsername(event.target.value);\n  // }\n  // updateFName = (event) => {\n  //   //this.setState({fullname: event.target.value});\n  //   setFullname(event.target.value);\n  // }\n  // updateEmail = (event) => {\n  //   //this.setState({email: event.target.value});\n  //   setEmail(event.target.value);\n  // }\n  // updatePassword = (event) => {\n  //   //this.setState({password: event.target.value});\n  //   setPassword(event.target.value);\n  // }\n  // updateCollege = (event) => {\n  //   //this.setState({college: event.target.value});\n  //   setCollege(event.target.value);\n  // }\n  function validateEmail(){\n    //let email = this.state.email;\n    const pattern = new RegExp(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/);\n    console.log(pattern.test(email));\n    return pattern.test(email);\n  }\n      return (\n        <div id = \"signup\" className=\"App\">\n          <Container maxWidth=\"sm\">\n            <Box className='Box' border={1}borderColor=\"primary.main\">\n                <form id=\"formforsignup\">\n                  <p>{props.errorMsg}</p>\n                  <div className=\"spaceForInput\">\n                    <TextField placeholder=\"Full Name\" name=\"fullname\"\n                        error={fullNameError.length > 0}\n                        label=\"Full Name\"\n                        id=\"standard-error-helper-text\"\n                        helperText={fullNameError}\n                        type=\"text\" \n                        onChange={updateFName}/>\n                  </div>\n                  <div className=\"spaceForInput\">\n                    <TextField label=\"email\" placeholder=\"E-mail\" name=\"email\"\n                      type=\"email\"\n                      onChange={updateEmail}/>\n                      {emailError === 'email is empty' && <div id =\"errorlabel\">{emailError}</div>}\n                      {emailError === 'Invalid email format' && <div id =\"errorlabel\">Invalid Email Format!</div>}\n                  </div>\n                  <div className=\"spaceForInput\">\n                    <Input\n                      placeholder=\"Username\"\n                      name=\"username\"\n                      type=\"text\"\n                      onChange={updateUsername}\n                    />\n                    {usernameError.length > 0 && <div id =\"errorlabel\">{usernameError}</div>}\n                  </div>\n                  <div className=\"spaceForInput\">\n                    <Input\n                      placeholder=\"password\"\n                      name=\"password\"\n                      type=\"password\"\n                      onChange={updatePassword}\n                    />\n                    {passwordError.length > 0 && <div id =\"errorlabel\">{passwordError}</div>}\n                  </div>\n                  <TextField\n                      id=\"standard-select-currency\"\n                      select\n                      label=\"Select\"\n                      name=\"college\"\n                      onChange={updateCollege}\n                      helperText=\"Please select your College\"\n                  >\n                    <MenuItem value=\"Queens College\">Queens</MenuItem>\n                    <MenuItem value=\"Hunter College\">Hunter</MenuItem>\n                    <MenuItem value=\"Baruch\">Baruch</MenuItem>\n                  </TextField>\n                  {collegeError.length > 0 && <div id =\"errorlabel\">{collegeError}</div>}\n                  <NavLink to={{\n                        pathname: '/',\n                        // state:{\n                        //     username:username,\n                        //     fullname:fullname,\n                        //     email:email,\n                        //     password:password,\n                        //     college:college\n                        // },\n                      }} onClick={handleClick} activeStyle={{ color: 'black' }} className=\"navLink\">Submit</NavLink>\n                </form>\n            </Box>\n          </Container>\n        </div>\n      );\n    }\nconst mapStateToProps = (state) => {\n  console.log(state)\n      return {\n        isLogged:state.logged.loggedIn,\n        errorMsg:state.error.msg.msg,\n        isLoading:state.logged.isLoading\n      };\n}\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    register:(history,fullName,email,username,password,college)=>{\n        register(dispatch,history,fullName,email,username,password,college)\n      }\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(Signup)\n\n// export default connect(mapStateToProps, {signIn})(Signup);\n","import React , { useState } from 'react';\nimport {NavLink, Link} from 'react-router-dom';\nimport {Box,Container, MenuItem,Select, Input, InputLabel, TextField} from '@material-ui/core'\nimport {useSelector, useDispatch } from 'react-redux';\n// import { signIn } from '../actions/isLogged'\nimport { connect, dispatch} from 'react-redux';\n// import { logIn } from '../reducers/isLogged';\n// import {register} from '../actions/isLogged'\nimport {login} from '../redux/actions/isLogged'\n//you have to install redux and install react-redux\n//i kind of used this website https://serverless-stack.com/chapters/create-a-login-page.html\nimport axios from 'axios'\nfunction Login(props) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errormessage,setErrorMessage] = useState(false);\n  const [isLogged,setIsLogged] = useState(false);\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const dispatch = useDispatch();\n  function handleClick(e){\n    if(!validateForm())\n        e.preventDefault();\n    else{\n      e.preventDefault()\n        props.login(props.history,username,password);//signup\n        console.log(props.errorMsg)\n    }\n        //send user to mongodb using axios. \n    /*if validatedform is false so its not validated then you prevent the \n    default action from happening which is going to user profile page.*/\n  }\nfunction validateForm(){\n      setErrorMessage(true);\n      let validPW=validatePassword()\n      if(username.length === 0){\n          setUsernameError(\"Username is empty\");\n      }\n      else if(password.length === 0){\n          setUsernameError(\"\");\n          setPasswordError(\"password is empty\");\n      }else if(password.length < 7 ){\n          setUsernameError(\"\");\n          setPasswordError(\"password needs to be more then eight characters\")\n      }else if(!validPW){\n          setUsernameError(\"\");\n          setPasswordError(\"password needs at least one digit and one uppercase\")\n      }\n      return (password.length >= 7  && validPW);\n}\nfunction updateUsername(event) {\n  setUsername(event.target.value);\n}\nfunction updatePassword(event) {\n  setPassword(event.target.value);\n}\nfunction validatePassword(){\n  //let email = this.state.email;\n  let upperCase = 0;\n  let digit = 0;\n  for(var i = 0; i < password.length; i++){\n      let currentChar = password.charAt(i)\n      if(currentChar == currentChar.toUpperCase()) upperCase++;\n      const pattern = new RegExp(/^[\\d]$/);\n      if (pattern.test(currentChar)) digit++;\n  }\n  if(digit > 0 && digit < password.length && upperCase > 0 && upperCase < password.length ) return true\n  return false;\n}\n    return (\n      <div id = \"signup\" className=\"App\">\n        <Container maxWidth=\"sm\">\n          <Box className='Box' border={1}borderColor=\"primary.main\">\n              <form id=\"formforsignup\">\n                <p>{props.errorMsg}</p>\n                <div className=\"spaceForInput\">\n                  <Input\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    type=\"text\"\n                    onChange={updateUsername}\n                  />\n                  {usernameError.length > 0 && <div id =\"errorlabel\">{usernameError}</div>}\n                </div>\n                <div className=\"spaceForInput\">\n                  <Input\n                    placeholder=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    onChange={updatePassword}\n                    onKeyPress={event => event.key === 'Enter' ? handleClick(event) : null}\n                  />\n                  {passwordError.length > 0 && <div id =\"errorlabel\">{passwordError}</div>}\n                </div>\n                <NavLink to={{\n                      pathname: '/',\n                      state:{\n                          // username:username,\n                          // // fullname:fullname,\n                          // // email:email,\n                          // password:password,\n                          // // college:college\n                      },\n                    }} onClick={handleClick} activeStyle={{ color: 'black' }} className=\"navLink\">Login</NavLink>\n              </form>\n          </Box>\n        </Container>\n      </div>\n    );\n  }\nconst mapStateToProps = (state) => (\n  console.log(state),\n      {\n        isLoading:state.logged.isLoading,\n        isLogged:state.logged.loggedIn,\n        errorMsg:state.error.msg.message\n      }\n)\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    login:(history,username,password)=>{\n        login(dispatch,history,username,password)\n    }\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(Login)\n// export default connect(mapStateToProps, {signIn})(Signup);\n","import React from 'react';\nimport {makeStyles, List, ListItem, ListItemAvatar, Avatar, FolderIcon, ListItemText, ListItemSecondaryAction, IconButton} from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport EditIcon from '@material-ui/icons/Edit';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport uuid from 'uuid'\nimport {connect,dispatch} from 'react-redux'\nimport {addClass, getStudentsForClass, getClassesForUser} from '../redux/actions/classActions'\n\n//import logoimage from '../images/logoimage.jpeg';\n\n//how to pass a link to listitem component onclick https://stackoverflow.com/questions/47206639/how-to-add-a-link-to-a-list-in-material-ui-1-0\n//https://medium.com/@bopaiahmd.mca/how-to-pass-props-using-link-and-navlink-in-react-router-v4-75dc1d9507b4\n\nclass UserProfile extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            isModalOpened:false,\n            profName:'',\n            class:'',\n            time:'',\n            classes:this.props.classes\n        };\n    }\n    openModal = () => {\n        this.setState({isModalOpened:true});\n        console.log(this.state.isModalOpened);\n    }\n    closeModal = () =>{\n        this.setState({isModalOpened:false})\n        console.log(this.state.isModalOpened);\n        // need to refresh the component since the state changed\n    }\n    componentDidMount() {\n        /*code disables user to go back since going back would allow the user \n        to go back to the signup page but the user already signed up.*/\n        // if(this.props.location.state.username!= null){\n        //     const {username,fullName, college, email} = this.props.location.state\n        // }else{\n        //     const {username,fullName, college, email} = this.props.userData\n        // }\n        // window.history.pushState(null, document.title, window.location.href);\n        // window.addEventListener('popstate', function (event){\n        //     // window.history.pushState(null, document.title,  window.location.href);\n        // });\n        //instead of having user constantly fetching from DB each time component\n        // mounts, we can fetch all users once, and save to redux\n        // this.props.getClassesForUser(this.props.userData.username);\n    }\n    updateProfessorname = (event) => {\n        this.setState({profName: event.target.value});\n    }\n    updateClass = (event) => {\n        this.setState({class: event.target.value});\n    }\n    updateTime = (event) => {\n        this.setState({time: event.target.value});\n    }\n    addClass = () => {\n        const newClass = {\n            courseName:this.state.class,\n            profName:this.state.profName,\n            time:this.state.time,\n            username:this.props.userData.username\n        };\n        this.state.classes.push(newClass);\n        this.setState({classes:this.state.classes});\n\n        axios.post('http://localhost:5000/',{\n            courseName:this.state.class,\n            profName:this.state.profName,\n            time:this.state.time,\n            username:this.props.userData.username,\n            nameOfUser:this.props.userData.fullName\n        }).then().catch( (error) => {\n            console.log(error);\n        });\n        // const conf = {\n        //     method: \"post\",\n        //     body: JSON.stringify(newClass),\n        //     headers: new Headers({ \"Content-Type\": \"application/json\" })\n        //   };\n        // fetch('/api/courses/', conf).catch().then(response => console.log(response));\n        this.setState({isModalOpened:false});\n    }\n    //console.log(\"profile\",this.props.location.state.username);\n    listItemClicked = (i) => {\n        console.log(i);\n    }\n    delete = (id) =>{\n        console.log(id)\n        axios.delete(`http://localhost:5000/${id}`).then().catch( (error)=> console.log(error))\n    }\n    render(){\n        return(\n            <div className=\"App\" id =\"parentDiv\">\n                <div id = \"nameandcollegeandimage\">\n                    <div id = \"displayflexrow\">\n                        <div id = \"profileimage\">\n                            <img></img>\n                        </div>\n                        <div id = \"nameandcollege\">\n                            <div id = \"fullname\">\n                                <p>{this.props.userData.fullName}</p>\n                            </div>\n                            <div id = \"college\">\n                                <p>Student @ {this.props.userData.college}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <p>The username is {this.props.userData.username}</p>\n                    <p>Your current email set is:{this.props.userData.email}</p>\n                </div>\n                    <div id = \"listItems\">\n                    <List id = \"list\">\n                        <ListItem className =\"listItem\" id = \"topRowOfList\">\n                            <ListItemText\n                                primary=\"Class Name\"\n                            />\n                            <ListItemText\n                                primary=\"Professor Name\"\n                            />\n                            <ListItemText\n                                primary=\"Time Taken\"\n                            />\n                            <ListItemSecondaryAction>\n                                <IconButton onClick={this.openModal}>\n                                    <AddBoxIcon/>\n                                </IconButton>\n                                <Dialog open={this.state.isModalOpened} onClose={this.closeModal} aria-labelledby=\"form-dialog-title\">\n                                    <DialogTitle id=\"form-dialog-title\">Enter a Class</DialogTitle>\n                                    <DialogContent>\n                                        {/* After debugging for an hour , the dialog should not be inside\n                                         icon button because inside the dialog there is a cancel button and for some reason icon buttons onclick method\n                                         kept overriding the child button of dialog's onclick method. */}\n                                    <DialogContentText>\n                                        Enter the class name, professor name, and time below:\n                                    </DialogContentText>\n                                    <TextField\n                                        autoFocus\n                                        margin=\"dense\"\n                                        id=\"classname\"\n                                        label=\"Class name:\"\n                                        type=\"text\"\n                                        fullWidth\n                                        onChange={this.updateClass}\n                                    />\n                                    <TextField\n                                        autoFocus\n                                        margin=\"dense\"\n                                        id=\"professor name\"\n                                        label=\"Professor name:\"\n                                        type=\"text\"\n                                        fullWidth\n                                        onChange={this.updateProfessorname}\n                                    />\n                                    <TextField\n                                        autoFocus\n                                        margin=\"dense\"\n                                        id=\"time\"\n                                        label=\"Time\"\n                                        type=\"time\"\n                                        fullWidth\n                                        onChange={this.updateTime}\n                                    />\n                                    </DialogContent>\n                                    <DialogActions>\n                                        <Button onClick={this.closeModal} color=\"primary\">\n                                            Cancel\n                                        </Button>\n                                        <Button  onClick={this.addClass} color=\"primary\">\n                                            Add Class\n                                        </Button>\n                                    </DialogActions>\n                                    </Dialog>\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                            {this.state.classes.map((classObject,i) => {\n                                return (\n                                        <ListItem\n                                            button\n                                            id=\"listItem\"\n                                            component={Link}//the list item is now a Link element so u can pass a to prop for the link\n                                            to={{\n                                                pathname: '/class',\n                                                state:{\n                                                    classId:classObject._id,\n                                                    className:classObject.courseName,\n                                                    profName:classObject.profName,\n                                                    time:classObject.time,\n                                                    username:this.props.userData.username\n                                                },\n                                              }}\n                                            onClick={() => { this.props.getStudentsForClass(classObject,classObject._id) }}\n                                            // onClick={this.listItemClicked(i)}\n                                            key={i} \n                                            className=\"listItem\">\n                                            <ListItemText\n                                                primary={classObject.courseName}\n                                            />\n                                            <ListItemText\n                                                primary={classObject.profName}\n                                            />\n                                            <ListItemText\n                                                primary={classObject.time}\n                                            />\n                                            <ListItemSecondaryAction>\n                                                <IconButton onClick={()=>{this.delete(classObject._id)}}>\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                                <IconButton>\n                                                    <EditIcon />\n                                                </IconButton>\n                                            </ListItemSecondaryAction>\n                                        </ListItem>\n                                    )\n                                })\n                            }\n                    </List>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => (\n    {\n      userData:state.logged.user,\n      classes:state.classes.currentClasses\n    }\n)\nfunction mapDispatchToProps(dispatch){\n    return {\n        getStudentsForClass:(classInfo,id)=>{\n            console.log(classInfo)\n            getStudentsForClass(dispatch,classInfo,id)\n        },\n    }\n}\n      \n    \n\nexport default connect(mapStateToProps,mapDispatchToProps)(UserProfile)\n\n//Graphql,redis, mern stack, mongodb, \n//graphql is for complicated queries","import React , {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport {Link} from 'react-router-dom';\nimport {Signup} from './Signup';\nimport {UserProfile} from './UserProfile';\nimport { signOut } from '../redux/actions/isLogged'\nimport { withRouter } from 'react-router-dom';\n// import {useSelector, useDispatch } from 'react-redux';\nimport { connect , dispatch} from 'react-redux';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  link:{\n    paddingLeft:3,\n    textDecoration:'none',\n    fontSize:20,\n    color:'white',\n  }\n}));\n\n\nfunction MenuAppBar(props) {\n      const classes = useStyles();\n      const [auth, setAuth] = React.useState(true);\n      const [anchorEl, setAnchorEl] = React.useState(null);\n      const open = Boolean(anchorEl);\n      const handleChange = event => {\n        setAuth(event.target.checked);\n        if(!event.target.checked){\n          props.signOut();\n        }\n      };\n      const signOut = () => {\n        props.history.push('/login')\n        // localStorage.setItem('state',undefined)\n        // localStorage.setItem('token','')\n        props.signOut();\n      }\n      const handleMenu = event => {\n        setAnchorEl(event.currentTarget);\n      };\n\n      const handleClose = () => {\n        setAnchorEl(null);\n      };\n\n      return (\n        <div className={classes.root}>\n          {/* <FormGroup>\n            {props.isLogged && (\n              <FormControlLabel\n                control={<Switch checked={auth} onChange={handleChange} aria-label=\"login switch\" />}\n                label={auth ? 'Logout' : 'Login'}\n              />\n            )}\n          </FormGroup> */}\n          <AppBar position=\"static\">\n            <Toolbar>\n              <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                <MenuIcon />\n              </IconButton>\n              <Typography variant=\"h6\" className={classes.title}>\n                Course-Chat\n              </Typography>\n              {/* {auth && ( */}\n                <div>\n                  {props.isLogged===false && (<Link className = {classes.link}   to =\"/signup\">Sign up</Link>)}\n                  {props.isLogged===false && (<Link className = {classes.link} to =\"/login\">Login</Link>)}\n                  {props.isLogged && <Link className = {classes.link} to =\"/profile\">Profile</Link>}\n                  {props.isLogged && <Link className = {classes.link} to =\"/chat\">Messages</Link>} \n                  {props.isLogged && <Link className = {classes.link} to =\"/signup\" onClick={signOut}>LogOut</Link>}\n\n                  <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"menu-appbar\"\n                    aria-haspopup=\"true\"\n                    onClick={handleMenu}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n\n                  <Menu\n                    id=\"menu-appbar\"\n                    anchorEl={anchorEl}\n                    anchorOrigin={{\n                      vertical: 'top',\n                      horizontal: 'right',\n                    }}\n                    keepMounted\n                    transformOrigin={{\n                      vertical: 'top',\n                      horizontal: 'right',\n                    }}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    {props.isLogged && <MenuItem onClick={signOut}><Link to =\"/signup\">Log Out</Link></MenuItem>}\n                    <MenuItem onClick={handleClose}><Link to =\"/signup\">Sign up</Link></MenuItem>\n                    <MenuItem onClick={handleClose}><Link to =\"/profile\" >User Profile</Link></MenuItem>\n                  </Menu>\n                </div>\n              {/* )} */}\n            </Toolbar>\n          </AppBar>\n        </div>\n      );\n}\n\n\nconst mapStateToProps = (store) => (\n  console.log(store),{\n    isLogged:store.logged.loggedIn//isLogged is now a prop\n})\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    signOut:()=>{\n        signOut(dispatch)\n      }\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(MenuAppBar))//we get signout action from here \n\n//With router allows your navbar to contain props.history \n\n// There is a magical higher-order component, that name is withRouter. \n// It takes place in the react-router-dom package also. With its help, you can pass the whole history object \n// to your component as properties. They contains several useful data about routing.","import React from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport {makeStyles, List, ListItem, ListItemAvatar, Avatar, FolderIcon, ListItemText, ListItemSecondaryAction, IconButton} from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport EditIcon from '@material-ui/icons/Edit';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport PersonIcon from '@material-ui/icons/Person';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport axios from 'axios';\nimport {  connect} from \"react-redux\";\n\n/*\nclassName:classObject.class,\nprofessorName:classObject.professorName,\ntime:classObject.time\n*/\nclass ClassComponent extends React.Component {\n  constructor(props){\n    super(props);\n  }\n  state = {\n    students:[]\n  }\n  componentDidMount() {\n    console.log(this.props.classInfo)\n    console.log(this.props.classInfo.username)\n  }\n  render(){\n    return (\n      <div className=\"App\">\n        {this.props.classInfo.courseName}\n        <p>{this.props.classInfo.profName}</p>\n        <p>{this.props.classInfo.time}</p>\n        <p>class component</p>\n        <p>Students taking this class!</p>\n            <List>\n            {this.props.queriedClasses.map((student,i) => {\n              return (\n                <div>\n                {student.username != this.props.classInfo.username && (\n                        <ListItem>\n                            <ListItemText\n                                primary={student.username}\n                            /> \n                            {/* should be chatting and view profile icons instead. */}\n                            <ListItemSecondaryAction>\n                            <Link \n                              to={{\n                                pathname: '/chat',\n                                state:{\n                                    username:this.props.classInfo.username,\n                                    sendMessageTo:student.username\n                                },\n                              }}>\n                                <IconButton>\n                                    <ChatIcon />\n                                </IconButton>\n                            </Link>\n                                <IconButton>\n                                    <PersonIcon />\n                                </IconButton>\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                  )}\n                </div>\n              )\n          })}\n          </List>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(state)\n      return {\n          queriedClasses:state.classes.queriedClasses,\n          classInfo:state.classes.classInfo\n      };\n}\n\nfunction mapDispatchToProps(dispatch){\n  return {\n\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(ClassComponent)\n","import React from 'react';\n\nimport './Message.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message, currentChatter, username }) => {\n  // console.log(message)\n  // console.log(username)\n  var text = message.text || message.message// from the backend, i have field name as message but from the frontend i have the field name as text\n\n  // //these messages can be either from someone sending it to us but if not \n  // //then when we're sending the message so user is the person we're sending the message to.\n  // var user = null;\n  // if(message.from != null ) {\n  //   user = message.from\n  // }else{\n  //   user = message.to\n  // }\n  // console.log(text)\n  // console.log(user)//user is dependent on the message.\n  // console.log(from)//from is current chatter, the person we care about.\n  let isSentByCurrentUser = true;\n  let senderName;\n  // let isSentByWantedSender = false\n  // let senderName = name.trim().toLowerCase();\n\n  // if(user === senderName) {\n  //   isSentByCurrentUser = true;\n  // }\n  // if(user === from){\n  //   isSentByWantedSender=true\n  // }\n  if(message.from!=null && message.from != username){//if the message isnt from the current user or it isnt null then its sent by the current user\n    isSentByCurrentUser = false;\n    senderName = message.from.trim().toLowerCase();\n  }\n  return (\n    isSentByCurrentUser ? (\n      <div className=\"messageContainer justifyEnd\">\n        <div className=\"messageBox backgroundBlue\">\n          <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n        </div>\n      </div>\n    ):\n      (\n        <div className=\"messageContainer justifyStart\">\n          <div className=\"messageBox backgroundLight\">\n            <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n          </div>\n        </div>\n      )\n  )\n}\n\nexport default Message;","import React from 'react';\n\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from './Message/Message';\n\nimport './Messages.css';\n\nclass Messages extends React.Component{\n    constructor(props){\n      super(props)\n    }\n    render(){\n      return(\n        <ScrollToBottom className=\"messages\">\n          {this.props.messages.map((message, i) => <div key={i}><Message message={message} currentChatter={this.props.currentChatter} username={this.props.currentUser}/></div>)}\n        </ScrollToBottom>\n      );      \n    }\n}\n\nexport default Messages;","import React from 'react';\n\nimport onlineIcon from '../../icons/onlineIcon.png';\nimport closeIcon from '../../icons/closeIcon.png';\nimport SendIcon from '@material-ui/icons/Send';\nimport Button from '@material-ui/core/Button';\nimport './InfoBar.css';\n\nconst InfoBar = ({ room, openModal }) => (\n  <div className=\"infoBar\">\n    <div className=\"leftInnerContainer\">\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n      <h3>{room}</h3>\n    </div>\n    <div className=\"rightInnerContainer\">\n      <Button onClick = {() => openModal()}>\n        <SendIcon/>\n      </Button>\n      <a href=\"/\"><img src={closeIcon} alt=\"close icon\" /></a>\n    </div>\n  </div>\n);\n\nexport default InfoBar;","import React from 'react';\n\nimport './Input.css';\n\nconst Input = ({ setMessage, sendMessage, message, currentChatter }) => (\n  <form className=\"form\">\n    <input\n      className=\"input\"\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={message}\n      onChange={({ target: { value } }) => setMessage(value)}\n      onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\n    />\n    <button disabled = {currentChatter == ''} className={currentChatter !== '' ? \"sendButton\" : 'redSendButton'} onClick={e => sendMessage(e)}>Send</button>\n  </form>\n)\n\nexport default Input;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DirectionsIcon from \"@material-ui/icons/Directions\";\nimport { Typography } from \"@material-ui/core\";\nimport Box from '@material-ui/core/Box';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: \"10px 0px 10px 0px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: '100%',\n    borderTopColor:'gray',\n    // borderTopWidth:1,\n    // borderBottomWidth:1,\n    // borderStyle:'solid'\n  },\n  input: {\n    marginLeft: theme.spacing(4),\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    height: 28,\n    margin: 4\n  }\n}));\n\nexport default function SearchDeals(props) {\n\n  const classes = useStyles();\n  const {handleChangeSearchText} = props\n  return (\n    <Box className={classes.root} borderColor=\"grey.500\" borderTop={1} borderBottom={1}>\n        <Typography variant=\"h6\">\n            To:\n        </Typography>\n        <InputBase\n            className={classes.input}\n            placeholder=\"Search classmates\"\n            onChange={e => handleChangeSearchText(e.target.value)}\n            fullWidth\n        />\n    </Box>\n        \n  );\n}","import Modal from '@material-ui/core/Modal';\nimport React, { useState } from \"react\";\nimport {makeStyles, List, ListItem, ListItemAvatar, Avatar, FolderIcon, ListItemText, ListItemSecondaryAction, Button} from '@material-ui/core';\nimport './Classmates.css';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PersonIcon from '@material-ui/icons/Person';\n// import ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { blue, blueGrey } from \"@material-ui/core/colors\";\nimport SearchField from './SearchField'\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles({\n    avatar: {\n      backgroundColor: blue[100],\n      color: blue[600]\n    },\n    grow:{\n        justifyContent:'flex-end',\n        flex:1\n        // flex of 1 means the whole width of the div so all the way to the right. flex 0.5 means go half way to the right. \n    },\n    listItem:{\n        // display:'flex',\n        color:blue[700],\n        borderBottom:0\n    },\n    nameUnderUsername:{\n        flexGrow:1,\n        flexShrink:1,\n        flexBasis:'auto',\n        width:'100%'\n    },\n    username:{\n        fontWeight:'bold',\n        color:blueGrey[900]\n    },\n    name:{\n        color:'gray'\n    },\n    courseName:{\n        color:blue[800]\n    },\n    titleAndCloseIcon:{\n        display:'flex'\n    }\n});\n// var classMates = [{username:'lebron',courseName:'cs343',name:'akhil'}]\nexport default function ClassmatesModal(props){\n        const classes = useStyles();\n        const {addChatter,closeModal,modalOpened,classMates} = props\n        const [currentlyDisplayed, setCurrentlyDisplayed] = useState(classMates)\n        const clickedClassmate = (classMate) =>{\n            addChatter(classMate.username)\n            closeModal()\n        }\n        const handleChangeSearchText = (newText) =>{\n            const newData = classMates.filter(friend => friend.username.toLowerCase().indexOf(newText.toLowerCase()) != -1)\n            setCurrentlyDisplayed(newData);\n        }\n        return (\n            <React.Fragment>\n                <Dialog\n                    id=\"dialog\"\n                    open={modalOpened}\n                    onClose={closeModal}\n                    fullWidth\n                    >\n                    <div className={classes.titleAndCloseIcon}>\n                        <DialogTitle className={classes.grow} id=\"simple-dialog-title\">New Message</DialogTitle>\n                        <Button onClick={() => closeModal()}>\n                            <CloseIcon/>\n                        </Button>\n                        \n                    </div>\n                    \n                    <SearchField handleChangeSearchText={handleChangeSearchText}/>\n                    <List>\n                    {currentlyDisplayed.map((classMate,i) => {\n                                return (\n                                        <ListItem\n                                            className={classes.listItem}\n                                            button\n                                            id=\"listItem\"\n                                            onClick={() => clickedClassmate(classMate) }\n                                            // onClick={listItemClicked(i)}\n                                            key={i} \n                                            className=\"listItem\">\n                                            <ListItemAvatar>\n                                                <Avatar className={classes.avatar}>\n                                                    <PersonIcon />\n                                                </Avatar>\n                                            </ListItemAvatar>\n                                            <div className={classes.nameUnderUsername}>\n                                                <ListItemText\n                                                    className={classes.username}\n                                                    primary={classMate.username}\n                                                />\n                                                <ListItemText\n                                                    className={classes.name}\n                                                    primary={classMate.nameOfUser}\n                                                />\n                                            </div>\n                                            \n                                            <ListItemText\n                                                primary={classMate.courseName}\n                                                className={classes.courseName}\n                                            />\n                                        </ListItem>\n                                )})\n                    }\n                    </List>\n                </Dialog>\n            </React.Fragment>\n            \n        )\n}","import React, { Component } from 'react';\nimport {List, ListItem, ListItemText} from '@material-ui/core'\nimport './Chatters.css';\n\n\nclass Chatters extends React.Component {\n    state = {  }\n    render() {\n        const {chatters,currentChatter} = this.props\n        return (\n            <div className=\"chattersList\">\n                {chatters.map((classmate) => {\n                return (\n                    <ListItem\n                        id = {(currentChatter == classmate ? \"currentChatter\" : \"chatter\")}\n                        button\n                        onClick={() => this.props.changeChatter(classmate)}\n                    >\n                    <p>{classmate}</p>\n                    </ListItem>\n                )\n                })}\n          </div>\n        );\n    }\n}\n\nexport default Chatters;","const initialState = {\n        chatters:[],\n        messages:[],\n        socketId:''\n}\nexport default function(state = initialState,action){\n    switch(action.type){\n        case 'set_messages_and_chatters_from_db':\n            return{\n                chatters:action.payload.chatters,\n                messages:action.payload.messages,\n            }\n        case 'ADD_MESSAGE':\n            return{\n                ...state,\n                messages:[...state.messages,action.payload]\n            }\n        case 'ADD_CHATTER':\n            return{\n                ...state,\n                chatters:[...state.chatters,action.payload]\n            }\n        default:\n            return state\n    }\n }\n    ","import React, { useState, useEffect } from \"react\";\nimport queryString from 'query-string';\nimport io from \"socket.io-client\";\nimport Messages from '../Messages/Messages';\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport ClassmatesModal from '../ClassmatesModal/ClassMates'\nimport './Chat.css';\nimport {List, ListItem, ListItemText, BottomNavigationAction} from '@material-ui/core'\nimport Chatters from '../Chatters/Chatters'\nimport { connect } from 'react-redux';\nimport axios from 'axios'\nimport chatters from \"../../redux/reducers/chatters\";\nclass Chat extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n        username:this.props.user.username,\n        currentChatter:'',\n        chatters:[],\n        allMessages:[],\n        messagesToShow:[],//messages get filtered \n        socket:io('http://localhost:4000/'),\n        message:'',\n        modalOpened:false\n    };\n  }\n  componentWillMount(){\n    console.log('mounted again')\n    let allMessagesAndChatters = {}   \n    if (this.props.allMessages.length !== 0){\n      //this is so we only call to the database once, and redux has all the data stored from the db. \n      this.setState({allMessages:this.props.allMessages})\n      this.setState({chatters:this.props.allChatters})\n      // don't even need state, we can use this props allMessages instead of using the state. maybe will change that later to clean it up\n    }else{\n      axios.get(`http://localhost:5000/messages/${this.state.username}/chatters`)\n      .then(res=>{\n        console.log(res.data)\n        const allChattersWithoutCurrentUser = res.data.filter(chatter => chatter != this.state.username)\n        allMessagesAndChatters.chatters = allChattersWithoutCurrentUser\n        this.setState({chatters:allChattersWithoutCurrentUser})\n      })\n      axios.get(`http://localhost:5000/messages/${this.state.username}`)\n      .then(res=>{\n        allMessagesAndChatters.messages = res.data\n        this.setState({allMessages:allMessagesAndChatters.messages})\n        this.props.setMessagesAndChatters(allMessagesAndChatters)\n      }).then(() =>{\n        console.log('yay')\n        if(this.props.location.state != null){\n          console.log('only when u come from class component')\n          const newChatter = this.props.location.state.sendMessageTo\n          this.setState({currentChatter:newChatter})\n          if(!this.props.allChatters.includes(newChatter)) this.setState({chatters:[...this.state.chatters,newChatter]})\n          this.filterMessages(this.props.allMessages, newChatter)\n        }\n      })\n    }\n    if(this.props.location.state != null){\n      console.log('only when u come from class component')\n      const newChatter = this.props.location.state.sendMessageTo\n      this.setState({currentChatter:newChatter})\n      // console.log(thi)\n      if(!this.props.allChatters.includes(newChatter)) this.setState({chatters:[...this.state.chatters,newChatter]})\n      this.filterMessages(this.props.allMessages, newChatter)\n    }\n    this.setState({chatters:this.props.allChatters})\n    this.filterMessages(this.props.allMessages, this.state.currentChatter)\n    \n    // console.log(this.props.connectedClients)\n    //dont really need below code because now we have a database.\n    // if(this.props.connectedClients.socketID != \"\"){\n    //   this.setState({allMessages:this.props.connectedClients})\n    //   this.setState({chatters:this.props.connectedClients.chatters})\n    //   this.filterMessages(this.props.connectedClients,this.state.currentChatter)\n    // }\n\n    // this.filterMessages(this.props.connectedClients)\n    /*get messages from redux state because if you don't, messages aren't saved. it's either\n    this or you keep asking for the messages from socket.io which is too many calls.*/\n    this.state.socket.emit('user_connected',this.state.username)\n    this.state.socket.on('private_message', (message,from) => {\n        var message = {\n          from:from,\n          to:this.state.username,\n          message:message\n          //missing id and created_at but that is stored on the backend, this can cause a problem later on\n        }\n        this.props.addMessage(message)//add message to redux\n        //if the message is being sent to a new chatter, update redux and current state.\n\n        // if(this.state.chatters.findIndex(to) == -1) {\n        //   this.setState({\n        //     chatters: [...this.state.chatters, to]\n        //   })\n        //   this.props.addChatter(to)\n        // }\n        console.log(message)\n        this.setState({\n          allMessages:[...this.state.allMessages,message]\n        })\n        // this.setState({chatters:messagesAndChatters.chatters})\n        // this.setState({allMessages:messagesAndChatters})\n        this.filterMessages(this.state.allMessages,this.state.currentChatter)\n    });\n    // this.props.classMates\n  }\n  componentWillUnmount(){\n    // this.props.updateConnectedClients(this.state.connectedClients)\n  }\n  filterMessages = (allMessages,currentChatter) => {\n    var messagesToShow = []\n    var messageIndex = 0;\n    //regular filtering doesn't work for some reason.\n    for(var i = 0; i < allMessages.length; i++){\n      if(allMessages[i].from == currentChatter || allMessages[i].to === currentChatter){\n        messagesToShow[messageIndex++] = allMessages[i]\n      }\n    }\n    console.log(messagesToShow)\n    this.setState({messagesToShow:messagesToShow})\n  }\n  sendMessage = (event) => {\n    event.preventDefault();\n    if(this.state.message != '') {\n      this.state.socket.emit('sendPrivateMessage', this.state.message,this.state.username,this.state.currentChatter, () => this.setMessage(''));\n    }\n    const newMessage = {\n      message:this.state.message,\n      from: this.state.username,\n      to:this.state.currentChatter\n    };\n    this.props.addMessage(newMessage)\n    this.setState({allMessages:[...this.state.allMessages,newMessage]})\n    this.filterMessages(this.state.allMessages,this.state.currentChatter)\n    this.setMessage('')\n\n    //save message to database, but i have it commented bcause too many messages will cause overflow.\n    // axios.post('http://localhost:5000/messages/',newMessage)\n    // .then(()=>console.log('message posted correctly')).catch( (error) => {\n    //     console.log(error);\n    // });\n\n  }\n\n  setMessage = (message) =>{\n    this.setState({message:message})\n  }\n  addChatter = (chatterUsername) => {\n    const isChatterAlreadyInChatters = this.state.chatters.indexOf(chatterUsername)\n    console.log(isChatterAlreadyInChatters)\n    if(isChatterAlreadyInChatters == -1) this.setState({chatters:[...this.state.chatters, chatterUsername]})\n    this.changeChatter(chatterUsername)\n  }\n  changeChatter = (classmate) =>{\n    this.setState({currentChatter:classmate})//if messages are sent now, it will be sent to the current chatter.\n    this.filterMessages(this.state.allMessages,classmate)//you want to now show messages for the new focused current new chatter.\n  }\n  openModal = () => {\n    this.setState({modalOpened:true})\n  }\n  closeModal = () => {\n    this.setState({modalOpened:false})\n  }\n  render(){\n      return (\n        <div className=\"outerContainer\">\n          <Chatters username = {this.state.username} chatters = {this.state.chatters} changeChatter={this.changeChatter} currentChatter={this.state.currentChatter}/>\n          <div className=\"container\">\n              <InfoBar openModal = {this.openModal} room={this.state.currentChatter}  />\n              <Messages messages={this.state.messagesToShow} currentChatter={this.state.currentChatter} currentUser={this.state.username} />\n              <Input message={this.state.message} setMessage={this.setMessage} sendMessage={this.sendMessage} currentChatter={this.state.currentChatter}/>\n              {this.state.modalOpened && <ClassmatesModal addChatter = {this.addChatter} changeChatter= {this.changeChatter} modalOpened={this.state.modalOpened}classMates={this.props.classMates} closeModal={this.closeModal}/>}\n          </div>\n        </div>\n      );\n  }\n}\nChat.defaultProps = {\n  connectedClients:[],\n  classMates:[],\n  username:{username:'akhil'}\n}                                                   \nconst mapStateToProps = (state) => (\n      {\n        allMessages:state.chatters.messages,\n        allChatters:state.chatters.chatters,\n        classMates:state.classes.classMates,\n        user:state.logged.user\n      }\n)\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    setMessagesAndChatters:(allMessages)=>{\n      dispatch({\n        type:'set_messages_and_chatters_from_db',\n        payload:allMessages\n      })\n    },\n    addMessage:(message)=>{\n      dispatch({\n        type:'ADD_MESSAGE',\n        payload:message\n      })\n    },\n    addChatter:(chatter)=>{\n      dispatch({\n        type:'ADD_CHATTER',\n        payload:chatter\n      })\n    }\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(Chat)\n// export default connect(mapStateToProps, {signIn})(Signup);\n\n\n","const initialState = {\n    msg:{},\n    status:null,\n    id:null\n}\nexport default function(state = initialState,action){\n    switch(action.type){\n        case 'GET_ERRORS':\n            console.log(action.payload)\n            return{\n                ...state,\n                msg:action.payload.msg,\n                status:action.payload.status,\n                id:action.payload.id\n            }\n        case 'CLEAR_ERRORS':\n            return{\n                ...state,\n                msg:{},\n                status:null,\n                id:null\n            }\n        default:\n            return state\n    }\n}\n    \n","const initialState = {\n    currentClasses:[],\n    queriedClasses:[],\n    classInfo:{},\n    classMates:[]\n}\nexport default function(state = initialState,action){\n    switch(action.type){\n        case 'ADD_CLASS':\n            return{\n                ...state,\n                currentClasses:[...state.currentClasses,action.payload]\n            }\n        case 'SET_STUDENTS':{\n            console.log(action.payload)  \n            return{\n                ...state,\n                classMates:action.payload//action.payload is an array itself so we must use concat\n            }\n        }\n        case 'GET_CLASSES_FROM_DB':\n            return{\n                ...state,\n                currentClasses:action.payload\n            }\n        case 'GET_QUERIED_CLASSES_FROM_DB':\n            return{\n                ...state,\n                queriedClasses:action.payload\n            }\n        case 'SET_CLASS':\n            return{\n                ...state,\n                classInfo:action.payload\n            }\n        default:\n            return state\n    }\n}\n","import { createStore,applyMiddleware,combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport loggedReducer from './redux/reducers/isLogged'\nimport errorReducer from './redux/reducers/errorReducer'\nimport chattersReducer from './redux/reducers/chatters'\nimport classesReducer from './redux/reducers/classes'\n\nconst middleware = [thunk];\nconst appReducer = combineReducers({\n    logged:loggedReducer,\n    error:errorReducer,\n    chatters:chattersReducer,\n    classes:classesReducer\n})\nconst rootReducer = (state, action) => {\n    if (action.type === 'SIGN_OUT') {\n        state = undefined\n    }\n    return appReducer(state, action)\n}\nfunction saveToLocalStorage(state){\n    try{\n        const serializedState = JSON.stringify(state)\n        localStorage.setItem('state', serializedState)\n    }catch(e){\n        console.log(e)\n    }\n}\nfunction loadFromLocalStorage(){\n    try{\n        const serializedState = localStorage.getItem('state')\n        if (serializedState === null) return undefined\n        return JSON.parse(serializedState)\n    }catch(e){\n        console.log(e)\n        return undefined\n    }\n}\n\nconst persistedState = loadFromLocalStorage()\n// const store = createStore(rootReducer, initialState, \n//         compose(\n//             applyMiddleware(...middleware),\n//             window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n//         ),\n//     );\n// const store = createStore(\n//     reducer, /* preloadedState, */\n//  +  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n//   );\nconst store = createStore(rootReducer,persistedState,applyMiddleware(...middleware)\n+  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nstore.subscribe(() => saveToLocalStorage(store.getState()))\nexport default store\n\n","import React from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport Feed from './components/Feed/Feed';\nimport Signup from './components/Signup';\nimport Login from './components/login'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Nav from './components/Nav';\nimport UserProfile from './components/UserProfile';\nimport ClassComponent from './components/ClassComponent'\nimport Chat from './components/Chat/Chat'\nimport {useParams} from 'react-router';\n// import store from './store'\nimport {returnErrors} from '../src/redux/actions/errorActions'\nimport {loadUser} from '../src/redux/actions/isLogged'\nimport axios from 'axios'\n// import React from 'react';\nimport store from './store'\nimport {dispatch, connect} from 'react-redux'\nclass App extends React.Component {\n  componentDidMount(){\n    this.props.loadUser()\n  }\n  render(){\n    return ( \n      <Router>\n        <div className=\"App\">\n          <Nav/>\n          <Route path=\"/\" exact component={Feed}/>\n          <Route path=\"/signup\" component={Signup}/>\n          <Route path=\"/login\" component={Login}/>\n          <Route path=\"/profile\" component={UserProfile}/>\n          <Route path=\"/class\" component={ClassComponent}/>\n          <Route path=\"/chat\" component={Chat}/>\n        </div>\n      </Router>\n    );//use exact /signup doesnt bring along feed component\n  }\n}\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    loadUser:()=>{\n        loadUser(dispatch)\n      }\n  }\n}\nexport default connect(null,mapDispatchToProps)(App)\n//https://dev.to/rubiin/ubuntu-increase-inotify-watcher-file-watch-limit-kf4","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {createStore} from 'redux';\n\nimport { Provider } from 'react-redux';//provider connects our global states from our store to our entire app.\nimport store from './store'\n//now the whole app has access to the store \n// import loggedReducer from './reducers/isLogged'\n\n// const store = createStore(loggedReducer);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}